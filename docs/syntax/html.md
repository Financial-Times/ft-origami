---
layout: default
title: HTML
section: Syntax
permalink: /docs/syntax/html/
---

# HTML Standards

Where Origami components include or output HTML, it should meet the following requirements:

* The markup *must* be [valid HTML5](http://www.whatwg.org/specs/web-apps/current-work/multipage/syntax.html#syntax), except that a DOCTYPE, and opening `<html>` and `<body>` tags should be assumed (ie the markup should be a document body fragment which becomes a valid HTML5 document when enclosed in `<html>` and `<body>` tags).
* It must be well formed XML (ie. it must have a single root element, all elements that are opened must be closed, closing tags must be in order)
* Valueless attributes must not be used because they are not valid XML:
	- GOOD: `<button disabled="disabled">Click me</button>`
	- BAD: `<button disabled>Click me</button>`
* Use semantic markup where native elements exist to describe the content:
	- GOOD: `<address>`
	- BAD: `<div class="address">`
* Elements or attributes that are normally singletons on a page *must not* be used. This includes attributes defined by specs external to the main HTML5 spec such as Microdata and WAI-ARIA. Examples:
	- BAD: `<meta name="viewport" content="..." />`
	- BAD: `<meta charset="utf-8">`
	- BAD: `<title>`, `<html>`, `<head>`, `<body>`
	- BAD: the `id` attribute
	- BAD: the ARIA `role="main"` attribute
* HTML5 elements are allowed as long they can be polyfilled with JavaScript back to IE7, but markup *must not* contain custom elements.
* Those elements and attribtues deprecated in the HTML5 spec *should* not be used:
	- BAD: `<applet>`, `<frameset>`, `<font>`, `<link rev="">`, `<td align="right">`
* `<iframe>` *must* not be used in markup. Iframes may be created by JavaScript.
* Conditional comments *must not* be used. Components should instead rely on classes on the `body` element that indicate feature support. Component authors may require the product application to set any feature flags supported by [Modernizr](http://modernizr.com/docs/).  Product developers, on the other hand, are free to use conditional comments as they wish.
* HREFs in markup *must not* use the `javascript:` protocol.
* The following **attributes** must not be present on any element:
	* id
	* target
	* Event handler attributes, eg `onclick`, `onchange`
* The following **elements** must not be present:
	* SCRIPT
	* STYLE
	* BASE
	* LINK
* The root element of a fragment of markup that represents a module, must
	* have a class name of `o-{modulename}` (see [SCSS standards]({{site.baseurl}}/docs/syntax/scss) for further details of class naming)
	* have a `data-o-version` attribute with the version number of the component from which the markup is sourced (which *should* be the module version, not the service version if the markup is generated by a service but sourced from a template in a module)
	* have a `data-o-component` attribute with the name of the component from which the markup is sourced

### WAI-ARIA

Component authors are encouraged to provide assistive accessibility information in their component's markup.

* use of the [widget](http://www.w3.org/TR/wai-aria/roles#widget_roles) and [document structure](http://www.w3.org/TR/wai-aria/roles#document_structure_roles) roles are encouraged but not required.
* use the [landmark roles](http://www.w3.org/TR/wai-aria/roles#landmark_roles) with caution. These are probably the concern of the product application.
* do not use [abstract roles](http://www.w3.org/TR/wai-aria/roles#abstract_roles).
* if using ARIA, for example a specific role and its associated attribute, follow the spec accurately across the entire component's code base. Half an implementation is worse than none at all.

## Tracking

In accordance with the [JavaScript standards]({{site.baseurl}}/docs/syntax/js), it's OK for a module to act on elements outside its owned portion of the DOM if those elements are tagged with data attributes within the module's namespace.  This principle is used to enable tracking of other modules by the track module.  Since the need for tracking is extremely common, these are defined as part of Origami itself:

* Where a portion of DOM comprises a list of links, the attribute `data-track-pos` should be added to the parent of each link.  The value of the attribute should be an integer reflecting the link's zero-based index in the list.
* Where a portion of DOM has distinct sub-regions that is worth tracking separately, such as a sub-list of links inside a list of links, the data attribute `data-track-region` should be added to the element enclosing the region.  The value may be any string describing the enclosed content.

## Examples

Headlines fragment:

	<nav class="o-headlines" data-o-component="o-headlines" data-o-version="0.0.1">
	  <ul>
	    <li data-track-pos="0"><a href="http://www.ft.com">Home</a></li>
	    <li data-track-pos="1"><a href="http://www.ft.com/uk">UK</a></li>
	    <li data-track-pos="2"><a href="http://www.ft.com/world">World</a>
	      <ul data-track-region="storyPackage">
	      	<li><a href="http://www.ft.com/world/us">US</a></li>
	      	<li><a href="http://www.ft.com/world/china">China</a></li>
	      	<li><a href="http://www.ft.com/world/kazakstan">Kazakstan</a></li>
	      </ul>
	    </li>
	  </ul>
	</nav>
